<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Puzzle Game</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            text-align: center;
        }

        h1 {
            font-size: 50px;
            font-weight: bold;
            color: rebeccapurple;
        }

        #display {
            color: rebeccapurple;
            border: 2px solid black;
            margin: 50px auto;
            padding: 40px;
            text-align: center;
            width: 400px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        #On {
            font-size: 40px;
            font-weight: bold;
        }

        #Onn, #B {
            font-size: 18px;
            border-radius: 30px;
            cursor: pointer;
            background-color: yellow;
            border: none;
            padding: 10px 20px;
            margin-top: 10px;
            transition: background-color 0.3s;
        }

        #Onn:hover, #B:hover {
            background-color: orange;
        }

        #Game {
            display: none;
            grid-template-rows: repeat(5, 120px);
            justify-content: center;
            gap: 10px;
            padding: 10px;
        }

        #Game img {
            width: 320px;
            height: 120px;
            border-radius: 8px;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        #Game img:hover {
            transform: scale(1.03);
        }

        /* Hiệu ứng rung */
        @keyframes shake {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            10%, 90% { transform: translate(-3px, -2px) rotate(-1deg); }
            20%, 80% { transform: translate(3px, 2px) rotate(1deg); }
            30%, 70% { transform: translate(-3px, 2px) rotate(-1deg); }
            40%, 60% { transform: translate(3px, -2px) rotate(1deg); }
            50% { transform: translate(-3px, 0px) rotate(0deg); }
        }

        .shake {
            animation: shake 0.5s ease-in-out 2;
        }
    </style>
</head>
<body>
<h1>Puzzle Game</h1>

<div id="display">
    <!-- Màn hình Login -->
    <div id="Login">
        <label for="clear">UserName:</label>
        <input id="clear" type="text" placeholder="Enter name"><br><br>
        <label for="pass">Password:</label>
        <input id="pass" type="password"><br><br>
        <input id="B" type="button" value="Login" onclick="cleardisplay()">
    </div>

    <!-- Màn hình Welcome -->
    <div id="Play" style="display:none;">
        <p id="On">Welcome to Puzzle Game</p>
        <input id="Onn" type="button" value="Start Game ▶" onclick="startGame()">
    </div>

    <!-- Màn hình Game -->
    <div id="Game"></div>
</div>

<script>
    const login = document.getElementById('Login');
    const play = document.getElementById('Play');
    const game = document.getElementById('Game');

    const images = [
        "imagee/a.jpg","imagee/a1.jpg","imagee/a2.jpg","imagee/a3.jpg",
        "imagee/a4.jpg","imagee/a5.jpg","imagee/a6.jpg","imagee/a7.jpg",
        "imagee/a8.jpg","imagee/a9.jpg","imagee/a10.jpg","imagee/a11.jpg",
        "imagee/a12.jpg","imagee/a13.jpg","imagee/a14.jpg"
    ];
    const correctOrder = images.slice(0, 5); // đúng là 5 ảnh đầu
    let currentOrder = randomImages(); // chọn ngẫu nhiên 5 ảnh

    // Kiểm tra đăng nhập
    function cleardisplay() {
        const user = document.getElementById('clear').value.trim();
        const pass = document.getElementById('pass').value.trim();

        if (!user || !pass) return alert("❌ Nhập tên và mật khẩu trước khi chơi!");

        login.style.display = 'none';
        play.style.display = 'block';
    }

    // Bắt đầu game
    function startGame() {
        play.style.display = 'none';
        game.style.display = 'grid';
        showImages();
    }

    // Hiển thị 5 ảnh
    function showImages() {
        game.innerHTML = '';
        currentOrder.forEach((src, index) => {
            const img = document.createElement('img');
            img.src = src;
            img.onclick = () => changeImage(index);
            game.appendChild(img);
        });
    }

    // Click ảnh → đổi sang ảnh ngẫu nhiên khác
    function changeImage(index) {
        let newImg;
        do {
            newImg = images[Math.floor(Math.random() * images.length)];
        } while (newImg === currentOrder[index]);

        currentOrder[index] = newImg;
        showImages();
        checkWin();
    }

    // Kiểm tra thắng
    function checkWin() {
        const win = currentOrder.slice(0, 5).every((val, i) => val === correctOrder[i]);
        if (win) {
            game.classList.add('shake');
            setTimeout(() => {
                game.classList.remove('shake');
                alert("🎉 Bạn đã ghép đúng toàn bộ bức tranh!");
            }, 800);
        }
    }

    // Lấy 5 ảnh random không trùng
    function randomImages() {
        return [...images].sort(() => Math.random() - 0.5).slice(0, 5);
    }
</script>
</body>
</html>
